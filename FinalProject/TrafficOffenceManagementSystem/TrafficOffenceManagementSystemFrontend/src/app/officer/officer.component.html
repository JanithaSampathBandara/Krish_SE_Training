

<div class="container">
    <form #officerForm="ngForm" (ngSubmit)="onSubmit(officerForm)">
    <div class="row">
        <div class="col-md-6 mx-auto"> <!-- mx-auto class is to center the whole division-->
            <div class="card" style="border:solid 3px darkred">
                <div class="card-body" >
                    <div class="row">
                        <div class="col">
                            <div style="text-align: center;">
                                <img src="assets/officer.png" width="150px" style="border: 3px solid rgb(17, 219, 10)" />
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <div style="text-align: center;">
                                <h2>Officer Management</h2>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <hr/><br/>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <div class="input-group mb-2">
                                
                                <input pattern="^[a-zA-Z_ ]*$" minlength="3" #policeId="ngModel" required type="number" class="form-control form-control-lg"  id="policeId" placeholder="Enter Officer Id" [(ngModel)]= "officer.policeId" name="policeId">
                                <div class="input-group-prepend">
                                    <button class="btn btn-primary" type="button" (click)="getOfficerById(officer.policeId)">Search Officer</button>
                                  </div>
                            </div>
                        </div>
                    </div><br />

                    <div class="row">
                        <div class="col">   
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                                    <div class="input-group-text"><b>Name</b></div>
                                </div>
                                <input pattern="^[a-zA-Z_ ]*$" minlength="3" (change)="change(name)" #name="ngModel" required type="text" [ngClass]="[name.dirty && name.valid ? 'form-control form-control-lg is-valid': 'form-control form-control-lg', name.dirty && name.invalid ? 'form-control form-control-lg is-invalid': 'form-control form-control-lg' ]"  id="name" placeholder="Enter The Name"  name="name" [(ngModel)]="officer.name">
                            </div>

                            <div *ngIf="!validation.name && name.control.errors" class="alert alert-danger">
                                <span width="50px">Please Check The Name Again</span>
                            </div><br />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">   
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                                    <div class="input-group-text"><b>NIC Number</b></div>
                                </div>
                            <input #nicval="ngModel" minlength="9" (change)="nicChange(nicval)" required type="text" [ngClass]="[nicval.dirty && nicval.valid ? 'form-control form-control-lg is-valid': 'form-control form-control-lg', nicval.dirty && nicval.invalid ? 'form-control form-control-lg is-invalid': 'form-control form-control-lg' ]" id="nic" placeholder="Enter NIC Number" [(ngModel)]="officer.nic" name="nic">
                     
                            </div>
                                <div *ngIf="!validation.nic && nicval.control.errors" class="alert alert-danger">
                                    <span>Please Check The NIC Again</span>
                                </div><br />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">   
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                                    <div class="input-group-text"><b>Contact Number</b></div>
                                </div>
                                <input #contact="ngModel" (change)="contactChange(contact)" required type="text" pattern="^0[0-9]{9}" onKeyPress="if(this.value.length==10) return false;" [ngClass]="[contact.dirty && contact.valid ? 'form-control form-control-lg is-valid': 'form-control form-control-lg', contact.dirty && contact.invalid ? 'form-control form-control-lg is-invalid': 'form-control form-control-lg' ]" id="contact" placeholder="Enter Contact Number" [(ngModel)]="officer.phone" name="contactno">                  
                                
                            </div>

                            <div *ngIf="!validation.contact && contact.control.errors" class="alert alert-danger">
                                <span>Please Check The Contact Number Again</span>
                            </div><br />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">   
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                                    <div class="input-group-text"><b>Address</b></div>
                                </div>
                                <input type="text" #addressval="ngModel" minlength="5" [ngClass]="[addressval.dirty && addressval.valid ? 'form-control form-control-lg is-valid': 'form-control form-control-lg', addressval.dirty && addressval.invalid ? 'form-control form-control-lg is-invalid': 'form-control form-control-lg' ]" id="address" placeholder="Enter The Address" [(ngModel)]="officer.address" name="address">
                           
                            </div><br />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">   
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                                    <div class="input-group-text"><b>Gender</b></div>
                                </div>
 
                                <select #genderval="ngModel" required name="offic" [ngClass]="[genderval.dirty && genderval.valid ? 'form-control form-control-lg is-valid': 'form-control form-control-lg', genderval.dirty && genderval.invalid ? 'form-control form-control-lg is-invalid': 'form-control form-control-lg' ]" id="exampleFormControlSelect1" [(ngModel)]="gender">
                                  <option value = "0" disabled selected="selected">Select The Gender</option>
                                  <option value = "1">Male</option>
                                  <option value = "2">Female</option>
                                  <option value = "3">Other</option>
                                </select>
                                {{gender}}
                            </div><br />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">   
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                                    <div class="input-group-text"><b>E-mail</b></div>
                                </div>
                      
                                <input #emailaddr="ngModel"  required type="email" [ngClass]="[emailaddr.dirty && emailaddr.valid ? 'form-control form-control-lg is-valid': 'form-control form-control-lg', emailaddr.dirty && emailaddr.invalid ? 'form-control form-control-lg is-invalid': 'form-control form-control-lg' ]" id="emailaddr" placeholder="Enter Officer's E-mail" [(ngModel)]="officer.email" name="email">
                 
                            </div><br />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">   
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                                    <div class="input-group-text"><b>DOB</b></div>
                                </div>
                                <input #dobval="ngModel" required type="date" min="1800-01-01" max={{ctoday}} id="birthday" name="birthday" [(ngModel)]="officer.dob" [ngClass]="[dobval.dirty && dobval.valid ? 'form-control form-control-lg is-valid': 'form-control form-control-lg', dobval.dirty && dobval.invalid ? 'form-control form-control-lg is-invalid': 'form-control form-control-lg' ]">

                            </div><br />

                        </div>
                    </div>

                    <div class="row">
                        <div class="col">   
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                                    <div class="input-group-text"><b>Password</b></div>
                                </div>
                                <input type="text" (change)="passwordChange(passwordval)" #passwordval="ngModel" required minlength="5" [ngClass]="[(passwordval.control.dirty && passwordval.control.valid) ? 'form-control form-control-lg is-valid' : 'form-control form-control-lg', (passwordval.control.dirty && passwordval.control.invalid) ? 'form-control form-control-lg is-invalid' : 'form-control form-control-lg' ]" id="password" placeholder="Enter New Password" [(ngModel)]="officer.password" name="password">
                          
                            </div>
                                <div *ngIf="!validation.password && passwordval.invalid" class="alert alert-danger">
                                    <span>Password Should Have More Than 5 Characters</span>
                                </div><br />
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">   
                            <div class="input-group mb-2">
                                <div class="input-group-prepend">
                                    <div class="input-group-text"><b>Confirm Password</b></div>
                                </div>
                                <input type="password"  #cnpassword="ngModel" required pattern="{{passwordval.control.value}}" [ngClass]="[cnpassword.dirty && cnpassword.valid && passwordval.value ? 'form-control form-control-lg is-valid' : 'form-control form-control-lg', cnpassword.dirty && cnpassword.control.invalid ? 'form-control form-control-lg is-invalid' : 'form-control form-control-lg']" id="cnpasswordid" placeholder="Enter Password Again" ngModel name="confirmpassword"> 
                          
                            </div>
                                <div *ngIf="cnpassword.value != passwordval.value && cnpassword.dirty" class="alert alert-danger">
                                    <span>Passwords Not Matching</span>
                                </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <hr/>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-md-6 mx-auto">
                            <div class="form-group>">
                                <input [disabled]="name.invalid || addressval.invalid || emailaddr.invalid || nicval.invalid || contact.invalid || passwordval.invalid || dobval.invalid || genderval.invalid || cnpassword.invalid" (click)="createOfficer()" type ="submit" class="form-control btn btn-success btn-block form-control-lg" id="add" name="add" value="Add"> 
                                <input [disabled]="name.invalid || addressval.invalid || emailaddr.invalid || nicval.invalid || contact.invalid || passwordval.invalid || dobval.invalid || genderval.invalid || cnpassword.invalid" (click)="updateOfficer(officer.policeId, officer)" type ="submit" class="form-control btn btn-warning btn-block form-control-lg" id="update" name="add" value="Update">
                                <input [disabled]="name.invalid || addressval.invalid || emailaddr.invalid || nicval.invalid || contact.invalid || passwordval.invalid || dobval.invalid || genderval.invalid || cnpassword.invalid" (click)="deleteOfficer(officer.policeId)" type ="submit" class="form-control btn btn-danger btn-block form-control-lg" id="delete" name="add" value="Delete">
                            </div>
                            <h6 style="text-align: center;">Already Signed Up? <a routerLink="/login">Log in here</a></h6>
                        </div>
                    </div>

                </div>
            </div>

            <a routerLink="#"> << Back to Home </a>
        </div>
    </div>
</form>
</div>
    
    <!--
                    <div class="row">
                        <div class="col">
                            <div class="form-group>">
                                <input type="text" class="form-control form-control-lg" ID="member_id" placeholder="E-mail Address"><br />
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <div class="form-group>">
                                <input type="text" class="form-control form-control-lg" ID="member_id" placeholder="Contact Number"><br />
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <div class="form-group>">
                                <input type="password" class="form-control form-control-lg" ID="password" placeholder="Password"><br />
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <div class="form-group>">
                                <input type="password" class="form-control form-control-lg" ID="password" placeholder="Confirm Password"><br />
                            </div>
                        </div>
                    </div>
-->
                   

